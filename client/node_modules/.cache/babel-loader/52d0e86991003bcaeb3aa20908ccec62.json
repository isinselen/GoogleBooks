{"ast":null,"code":"var _jsxFileName = \"/Users/isinselen/Desktop/GoogleBooks/client/src/pages/SearchPage/index.js\";\nimport React from \"react\";\nimport SearchBar from \"../../components/SearchBar\";\nimport BookList from \"../../components/BookList\";\nimport API from \"../../ultis/API\";\n\nclass SearchPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const value = event.target.value;\n      this.setState({\n        searchTerm: value\n      });\n      console.log(this.state);\n    };\n\n    this.handleSaveBook = book => {\n      API.addBook(book).then(res => console.log(res)).catch(err => console.log(err));\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      API.getGoogleBooks(this.state.searchTerm).then(res => {\n        const bookData = res.data.items.map(item => {\n          return {\n            title: item.volumeInfo.title,\n            authors: item.volumeInfo.authors,\n            description: item.volumeInfo.description,\n            image: item.volumeInfo.imageLinks.thumbnail,\n            link: item.volumeInfo.infoLink\n          };\n        });\n        this.setState({\n          books: bookData\n        });\n        console.log(this.state);\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      books: [],\n      searchTerm: \"\"\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      onTextChange: this.handleInputChange,\n      onSearchSubmit: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(BookList, {\n      label: \"Result List\",\n      data: this.state.books,\n      handleBook: this.handleSaveBook,\n      buttonLabel: \"Save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default SearchPage;","map":{"version":3,"sources":["/Users/isinselen/Desktop/GoogleBooks/client/src/pages/SearchPage/index.js"],"names":["React","SearchBar","BookList","API","SearchPage","Component","constructor","props","handleInputChange","event","value","target","setState","searchTerm","console","log","state","handleSaveBook","book","addBook","then","res","catch","err","handleFormSubmit","preventDefault","getGoogleBooks","bookData","data","items","map","item","title","volumeInfo","authors","description","image","imageLinks","thumbnail","link","infoLink","books","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;;AAEA,MAAMC,UAAN,SAAyBJ,KAAK,CAACK,SAA/B,CAAyC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,iBARmB,GAQCC,KAAK,IAAI;AAAA,YAClBC,KADkB,GACTD,KAAK,CAACE,MADG,CAClBD,KADkB;AAEzB,WAAKE,QAAL,CAAc;AACVC,QAAAA,UAAU,EAAEH;AADF,OAAd;AAGAI,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACH,KAdkB;;AAAA,SAgBnBC,cAhBmB,GAgBFC,IAAI,IAAI;AACrBf,MAAAA,GAAG,CAACgB,OAAJ,CAAYD,IAAZ,EACIE,IADJ,CACSC,GAAG,IAAIP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CADhB,EAEIC,KAFJ,CAEUC,GAAG,IAAIT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,CAFjB;AAGH,KApBkB;;AAAA,SAsBnBC,gBAtBmB,GAsBAf,KAAK,IAAI;AACxBA,MAAAA,KAAK,CAACgB,cAAN;AACAtB,MAAAA,GAAG,CAACuB,cAAJ,CAAmB,KAAKV,KAAL,CAAWH,UAA9B,EACIO,IADJ,CACSC,GAAG,IAAI;AACT,cAAMM,QAAQ,GAAGN,GAAG,CAACO,IAAJ,CAASC,KAAT,CAAeC,GAAf,CAAoBC,IAAD,IAAQ;AACxC,iBAAO;AACHC,YAAAA,KAAK,EAAED,IAAI,CAACE,UAAL,CAAgBD,KADpB;AAEHE,YAAAA,OAAO,EAAEH,IAAI,CAACE,UAAL,CAAgBC,OAFtB;AAGHC,YAAAA,WAAW,EAAEJ,IAAI,CAACE,UAAL,CAAgBE,WAH1B;AAIHC,YAAAA,KAAK,EAAEL,IAAI,CAACE,UAAL,CAAgBI,UAAhB,CAA2BC,SAJ/B;AAKHC,YAAAA,IAAI,EAAER,IAAI,CAACE,UAAL,CAAgBO;AALnB,WAAP;AAOH,SARgB,CAAjB;AASA,aAAK5B,QAAL,CAAe;AAAE6B,UAAAA,KAAK,EAAEd;AAAT,SAAf;AACAb,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACF,OAbL,EAcIM,KAdJ,CAcUC,GAAG,IAAIT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,CAdjB;AAeH,KAvCkB;;AAEf,SAAKP,KAAL,GAAa;AACTyB,MAAAA,KAAK,EAAE,EADE;AAET5B,MAAAA,UAAU,EAAE;AAFH,KAAb;AAIH;;AAmCD6B,EAAAA,MAAM,GAAG;AACL,WACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAW,MAAA,YAAY,EAAE,KAAKlC,iBAA9B;AAAiD,MAAA,cAAc,EAAE,KAAKgB,gBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAC,aAAhB;AAA8B,MAAA,IAAI,EAAE,KAAKR,KAAL,CAAWyB,KAA/C;AAAsD,MAAA,UAAU,EAAE,KAAKxB,cAAvE;AAAuF,MAAA,WAAW,EAAC,MAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ;AAMH;;AAjDoC;;AAoDzC,eAAeb,UAAf","sourcesContent":["import React from \"react\";\nimport SearchBar from \"../../components/SearchBar\"\nimport BookList from \"../../components/BookList\"\nimport API from \"../../ultis/API\";\n\nclass SearchPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            books: [],\n            searchTerm: \"\"\n        }\n    }\n\n    handleInputChange = event => {\n        const {value} = event.target;\n        this.setState({\n            searchTerm: value\n        })\n        console.log(this.state)\n    }\n\n    handleSaveBook = book => {\n        API.addBook(book)\n           .then(res => console.log(res))\n           .catch(err => console.log(err))\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        API.getGoogleBooks(this.state.searchTerm)\n           .then(res => {\n               const bookData = res.data.items.map((item)=>{\n                   return {\n                       title: item.volumeInfo.title,\n                       authors: item.volumeInfo.authors,\n                       description: item.volumeInfo.description,\n                       image: item.volumeInfo.imageLinks.thumbnail,\n                       link: item.volumeInfo.infoLink\n                   }\n               })\n               this.setState( { books: bookData })\n               console.log(this.state)\n            })\n           .catch(err => console.log(err));\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <SearchBar onTextChange={this.handleInputChange} onSearchSubmit={this.handleFormSubmit}/>\n                <BookList label=\"Result List\" data={this.state.books} handleBook={this.handleSaveBook} buttonLabel=\"Save\"/>\n            </div>\n        )\n    }\n}\n\nexport default SearchPage"]},"metadata":{},"sourceType":"module"}